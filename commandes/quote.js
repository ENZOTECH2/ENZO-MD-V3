/*const { zokou } = require('../framework/zokou');

zokou({ nomCom: 'quote', categorie: 'Fun' }, async (dest, zk, commandeOptions) => {
  const { ms, repondre, verifGroupe, arg } = commandeOptions;
  if (!verifGroupe) {
    repondre('Commande rÃ©servÃ©e au groupe uniquement');
    return;
  }

  if (!arg[0]) {
    try {
      fetch('https://animechan.xyz/api/random')
        .then((response) => response.json())
        .then(async (quote) => {
          repondre(`â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Bmw-md               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¬ Anime: ${quote.anime}
ðŸ‘¤ Character: ${quote.character}
ðŸ’¬ Quote: ${quote.quote}

Powered by Zokou-MD`);
        });
    } catch (e) {
      repondre('Erreur lors de la gÃ©nÃ©ration de la citation : ' + e.message);
**/
    const _0xb8f73a=_0x5adb;function _0x5e61(){const _0x5d9349=['8ZVbGOI','found.','ly\x20âœ…','eDuJB','SsXeQ','/video\x20nam','An\x20error\x20o','undNf','YssYT','\x20name.','bqxMQ','thumbnail','ARCH\x0a\x0a\x20*AN','ibrahimtec','bCxcI','867300zMMgab','video','GbbLK','rfyfz','NPEYb','ile\x20search','CCKEz','zKKrW','ccurred\x20wh','crCVx','NtUFn','XqzuG','result','3800590vBqATJ','PwHRM','../framewo','SjAFz','Failed\x20to\x20','158481yLCjod','7MatxaN','Pgcvy','udio.\x20Plea','ert\x20a\x20song','sendMessag','Please\x20ins','/api/downl','woFTo','9GcyHlQ','yt-search','349886xMVwls','oad/ytmp3?','gDGdg','1133880rJeEuu','download\x20a','AKqUG','nloading\x20t','Download','&apikey=','CTpKj','YWAY-MD*','FIGSN','hUxUi','error','ound.','Successful','ReRgZ','INnCn','url=','play','No\x20audio\x20f','length','audio/mp4','ySCOK','success','cFcKe','HMDAk','\x20Successfu','videos','..â³','join','rk/zokou','177476sLcVeR','he\x20audio.','Searching.','url','Error\x20from','973800NuvycC','song','oad/ytmp4?','TeWho','uUvFW','in\x20later.','pis.us.kg','rDBqt','ing\x20or\x20dow','https://te','download_u','No\x20videos\x20','status','mp.gifteda','NrdYF','Downloded\x20','se\x20try\x20aga','MZlZe','\x20API:','h_ai','lyZOn','Search','lly\x20âœ…*','wlRPi','video/mp4','NzMys','alKrm','*Downloded','json','pWTFb','YOUTUBE\x20SE'];_0x5e61=function(){return _0x5d9349;};return _0x5e61();}(function(_0x429ea7,_0x280808){const _0x3341a5=_0x5adb,_0x4a0b45=_0x429ea7();while(!![]){try{const _0xf497f0=parseInt(_0x3341a5(0x1ef))/(0x5e*0x1+-0x121d+-0x11c*-0x10)+-parseInt(_0x3341a5(0x1cf))/(-0x23a1*0x1+-0x45*-0x21+0x1abe)+parseInt(_0x3341a5(0x1c4))/(0x3fb*0x8+-0xe4c+-0x1189)*(-parseInt(_0x3341a5(0x1a3))/(0xf*-0x23f+0x1e6f+0x346))+parseInt(_0x3341a5(0x1b2))/(0x1*0x4d6+0x1*0x1008+-0x14d9)+-parseInt(_0x3341a5(0x1d2))/(-0x109b+0x25ec+-0x154b)+-parseInt(_0x3341a5(0x1c5))/(-0xa*-0x339+-0x1815+-0x81e)*(parseInt(_0x3341a5(0x1f4))/(-0x1ec*-0x1+-0xcf3+0xb0f))+parseInt(_0x3341a5(0x1cd))/(-0x1569+0x76+0x2*0xa7e)*(parseInt(_0x3341a5(0x1bf))/(-0x5*-0x709+0x4*0x3cb+-0x324f));if(_0xf497f0===_0x280808)break;else _0x4a0b45['push'](_0x4a0b45['shift']());}catch(_0x15e685){_0x4a0b45['push'](_0x4a0b45['shift']());}}}(_0x5e61,-0x2*-0x1ce6b+-0x3a602+0x22ad9));const {zokou}=require(_0xb8f73a(0x1c1)+_0xb8f73a(0x1ee)),yts=require(_0xb8f73a(0x1ce)),BaseUrl=_0xb8f73a(0x1fd)+_0xb8f73a(0x201)+_0xb8f73a(0x1fa),giftedapikey=_0xb8f73a(0x1b0)+_0xb8f73a(0x207);function _0x5adb(_0x4542f3,_0x58583a){const _0x5d87c9=_0x5e61();return _0x5adb=function(_0x4f63db,_0x9f56ea){_0x4f63db=_0x4f63db-(0x580*0x2+-0x1*-0x1cdb+-0x5*0x7a5);let _0x544d46=_0x5d87c9[_0x4f63db];return _0x544d46;},_0x5adb(_0x4542f3,_0x58583a);}zokou({'nomCom':_0xb8f73a(0x1b3),'categorie':_0xb8f73a(0x209),'reaction':'ðŸŽ¥'},async(_0x4bafff,_0x3366a1,_0x2d47a1)=>{const _0x445778=_0xb8f73a,_0x52d539={'cFcKe':function(_0x4c4407,_0x2ce1a1){return _0x4c4407(_0x2ce1a1);},'YssYT':_0x445778(0x1ca)+_0x445778(0x1c8)+_0x445778(0x1a8)+'e.','NrdYF':function(_0x298fc1,_0xab4fe0){return _0x298fc1(_0xab4fe0);},'AKqUG':function(_0x22554a,_0x2255f7){return _0x22554a>_0x2255f7;},'MZlZe':function(_0x39ee89,_0x3d5278){return _0x39ee89(_0x3d5278);},'Pgcvy':function(_0x4e4372,_0x1c9d3d){return _0x4e4372===_0x1c9d3d;},'NzMys':_0x445778(0x20c),'rDBqt':_0x445778(0x203)+_0x445778(0x1de)+_0x445778(0x1a5),'ReRgZ':_0x445778(0x1f1)+_0x445778(0x1ec),'hUxUi':function(_0x219540,_0x13b23f){return _0x219540(_0x13b23f);},'FIGSN':_0x445778(0x1ff)+_0x445778(0x1a4),'gDGdg':_0x445778(0x1f3)+_0x445778(0x206),'pWTFb':function(_0x4d6951,_0x54464a){return _0x4d6951(_0x54464a);}},{ms:_0x59ba4d,repondre:_0x2eeda8,arg:_0x4a2812}=_0x2d47a1;if(!_0x4a2812[0x19bd+-0x27*-0xc1+-0xdc9*0x4]){_0x52d539[_0x445778(0x1e8)](_0x2eeda8,_0x52d539[_0x445778(0x1ab)]);return;}try{let _0x12ef20=_0x4a2812[_0x445778(0x1ed)]('\x20'),_0x3af2ad=[];const _0x514595=await _0x52d539[_0x445778(0x202)](yts,_0x12ef20);_0x3af2ad=_0x514595[_0x445778(0x1eb)];if(_0x3af2ad&&_0x52d539[_0x445778(0x1d4)](_0x3af2ad[_0x445778(0x1e4)],-0x115*0x5+-0x131*0x9+0x1022)){const _0x1eb6c2=_0x3af2ad[0xc37*-0x3+0x1462+0x1*0x1043][_0x445778(0x1f2)],_0x2707a1=await _0x52d539[_0x445778(0x1e8)](fetch,BaseUrl+(_0x445778(0x1cb)+_0x445778(0x1f6)+_0x445778(0x1e1))+_0x52d539[_0x445778(0x205)](encodeURIComponent,_0x1eb6c2)+_0x445778(0x1d7)+giftedapikey),_0x1cd1d0=await _0x2707a1[_0x445778(0x210)]();if(_0x52d539[_0x445778(0x1c6)](_0x1cd1d0[_0x445778(0x200)],0x1c1a+0x6*0x40f+-0xceb*0x4)&&_0x1cd1d0[_0x445778(0x1e7)]){const _0x2bffd7=_0x1cd1d0[_0x445778(0x1be)][_0x445778(0x1fe)+'rl'],_0x4b0c61={'image':{'url':_0x3af2ad[-0x2419*-0x1+-0x3*-0xb0d+-0x4540][_0x445778(0x1ae)]},'caption':_0x445778(0x1a2)+_0x445778(0x1af)+_0x445778(0x1d9)};await _0x3366a1[_0x445778(0x1c9)+'e'](_0x4bafff,_0x4b0c61,{'quoted':_0x59ba4d}),await _0x3366a1[_0x445778(0x1c9)+'e'](_0x4bafff,{'video':{'url':_0x2bffd7},'mimetype':_0x52d539[_0x445778(0x20d)]},{'quoted':_0x59ba4d}),_0x52d539[_0x445778(0x1e8)](_0x2eeda8,_0x52d539[_0x445778(0x1fb)]);}else _0x52d539[_0x445778(0x202)](_0x2eeda8,_0x52d539[_0x445778(0x1df)]);}else _0x52d539[_0x445778(0x1db)](_0x2eeda8,_0x52d539[_0x445778(0x1da)]);}catch(_0x438032){console[_0x445778(0x1dc)](_0x52d539[_0x445778(0x1d1)],_0x438032),_0x52d539[_0x445778(0x211)](_0x2eeda8,_0x52d539[_0x445778(0x1df)]);}}),zokou({'nomCom':_0xb8f73a(0x1e2),'categorie':_0xb8f73a(0x1d6),'reaction':'ðŸŽ§'},async(_0x3a6444,_0x3281ed,_0x65d85e)=>{const _0x2bf2f1=_0xb8f73a,_0x44d458={'eDuJB':function(_0x977c7,_0x189d36){return _0x977c7(_0x189d36);},'crCVx':_0x2bf2f1(0x1ca)+_0x2bf2f1(0x1c8)+_0x2bf2f1(0x1ac),'SsXeQ':function(_0x11c322,_0x41fe5d){return _0x11c322(_0x41fe5d);},'SjAFz':function(_0x34fc83,_0x2abef4){return _0x34fc83>_0x2abef4;},'INnCn':function(_0x339ba6,_0x5631c1){return _0x339ba6(_0x5631c1);},'XqzuG':function(_0x42e3f8,_0x5d4e89){return _0x42e3f8(_0x5d4e89);},'NPEYb':function(_0x27f351,_0x2f3fd9){return _0x27f351===_0x2f3fd9;},'bCxcI':_0x2bf2f1(0x1e5),'TeWho':_0x2bf2f1(0x20f)+_0x2bf2f1(0x1ea)+_0x2bf2f1(0x20a),'NtUFn':_0x2bf2f1(0x1c3)+_0x2bf2f1(0x1d3)+_0x2bf2f1(0x1c7)+_0x2bf2f1(0x204)+_0x2bf2f1(0x1f9),'PwHRM':_0x2bf2f1(0x1e3)+_0x2bf2f1(0x1dd),'alKrm':_0x2bf2f1(0x1f3)+_0x2bf2f1(0x206),'wlRPi':_0x2bf2f1(0x1a9)+_0x2bf2f1(0x1ba)+_0x2bf2f1(0x1b7)+_0x2bf2f1(0x1fc)+_0x2bf2f1(0x1d5)+_0x2bf2f1(0x1f0)},{ms:_0x369a40,repondre:_0x34512c,arg:_0xd62491}=_0x65d85e;if(!_0xd62491[-0x3*-0x906+-0x1fb5+0x4a3]){_0x44d458[_0x2bf2f1(0x1a6)](_0x34512c,_0x44d458[_0x2bf2f1(0x1bb)]);return;}try{let _0x228269=_0xd62491[_0x2bf2f1(0x1ed)]('\x20'),_0x20ba32=[];const _0x5ccb70=await _0x44d458[_0x2bf2f1(0x1a7)](yts,_0x228269);_0x20ba32=_0x5ccb70[_0x2bf2f1(0x1eb)];if(_0x20ba32&&_0x44d458[_0x2bf2f1(0x1c2)](_0x20ba32[_0x2bf2f1(0x1e4)],-0x118c*-0x2+0x1be5+-0x3efd)){const _0x27c264=_0x20ba32[0x2*-0x1247+-0x1*-0x16db+0xdb3][_0x2bf2f1(0x1f2)],_0x1747ba=await _0x44d458[_0x2bf2f1(0x1e0)](fetch,BaseUrl+(_0x2bf2f1(0x1cb)+_0x2bf2f1(0x1d0)+_0x2bf2f1(0x1e1))+_0x44d458[_0x2bf2f1(0x1bd)](encodeURIComponent,_0x27c264)+_0x2bf2f1(0x1d7)+giftedapikey),_0x1e0260=await _0x1747ba[_0x2bf2f1(0x210)]();if(_0x44d458[_0x2bf2f1(0x1b6)](_0x1e0260[_0x2bf2f1(0x200)],-0x8b8+-0x96a+0x3*0x64e)&&_0x1e0260[_0x2bf2f1(0x1e7)]){const _0x54fbfa=_0x1e0260[_0x2bf2f1(0x1be)][_0x2bf2f1(0x1fe)+'rl'],_0x419176={'image':{'url':_0x20ba32[-0x1a8d+0x14e*-0x8+-0x22d*-0x11][_0x2bf2f1(0x1ae)]},'caption':_0x2bf2f1(0x1a2)+_0x2bf2f1(0x1af)+_0x2bf2f1(0x1d9)};await _0x3281ed[_0x2bf2f1(0x1c9)+'e'](_0x3a6444,_0x419176,{'quoted':_0x369a40}),await _0x3281ed[_0x2bf2f1(0x1c9)+'e'](_0x3a6444,{'audio':{'url':_0x54fbfa},'mimetype':_0x44d458[_0x2bf2f1(0x1b1)]},{'quoted':_0x369a40}),_0x44d458[_0x2bf2f1(0x1bd)](_0x34512c,_0x44d458[_0x2bf2f1(0x1f7)]);}else _0x44d458[_0x2bf2f1(0x1a7)](_0x34512c,_0x44d458[_0x2bf2f1(0x1bc)]);}else _0x44d458[_0x2bf2f1(0x1a7)](_0x34512c,_0x44d458[_0x2bf2f1(0x1c0)]);}catch(_0x384bf6){console[_0x2bf2f1(0x1dc)](_0x44d458[_0x2bf2f1(0x20e)],_0x384bf6),_0x44d458[_0x2bf2f1(0x1bd)](_0x34512c,_0x44d458[_0x2bf2f1(0x20b)]);}}),zokou({'nomCom':_0xb8f73a(0x1f5),'categorie':_0xb8f73a(0x1d6),'reaction':'ðŸŽ¸'},async(_0x5b2895,_0x299a0f,_0x43d0ee)=>{const _0x4e9082=_0xb8f73a,_0x2d12d4={'HMDAk':function(_0xdfe4ef,_0x285cbc){return _0xdfe4ef(_0x285cbc);},'undNf':_0x4e9082(0x1ca)+_0x4e9082(0x1c8)+_0x4e9082(0x1ac),'bqxMQ':function(_0xfb1352,_0x296bdc){return _0xfb1352>_0x296bdc;},'zKKrW':function(_0x10ddb7,_0x480477){return _0x10ddb7(_0x480477);},'CCKEz':function(_0x70dace,_0x2387e5){return _0x70dace===_0x2387e5;},'GbbLK':_0x4e9082(0x1e5),'ySCOK':function(_0x57315b,_0x51aba5){return _0x57315b(_0x51aba5);},'CTpKj':_0x4e9082(0x20f)+_0x4e9082(0x1ea)+_0x4e9082(0x20a),'rfyfz':_0x4e9082(0x1c3)+_0x4e9082(0x1d3)+_0x4e9082(0x1c7)+_0x4e9082(0x204)+_0x4e9082(0x1f9),'lyZOn':_0x4e9082(0x1e3)+_0x4e9082(0x1dd),'woFTo':_0x4e9082(0x1f3)+_0x4e9082(0x206),'uUvFW':_0x4e9082(0x1a9)+_0x4e9082(0x1ba)+_0x4e9082(0x1b7)+_0x4e9082(0x1fc)+_0x4e9082(0x1d5)+_0x4e9082(0x1f0)},{ms:_0x4f9a9b,repondre:_0x21cd72,arg:_0x492583}=_0x43d0ee;if(!_0x492583[0x1e*0x129+0x3ad*0x3+-0x2dd5]){_0x2d12d4[_0x4e9082(0x1e9)](_0x21cd72,_0x2d12d4[_0x4e9082(0x1aa)]);return;}try{let _0x148a86=_0x492583[_0x4e9082(0x1ed)]('\x20'),_0x4ba123=[];const _0x30cafe=await _0x2d12d4[_0x4e9082(0x1e9)](yts,_0x148a86);_0x4ba123=_0x30cafe[_0x4e9082(0x1eb)];if(_0x4ba123&&_0x2d12d4[_0x4e9082(0x1ad)](_0x4ba123[_0x4e9082(0x1e4)],0x254b+0x218e+-0x7*0xa1f)){const _0x118a55=_0x4ba123[-0x1*0x2503+0x18*-0xef+0x3b6b][_0x4e9082(0x1f2)],_0x4aa923=await _0x2d12d4[_0x4e9082(0x1b9)](fetch,BaseUrl+(_0x4e9082(0x1cb)+_0x4e9082(0x1d0)+_0x4e9082(0x1e1))+_0x2d12d4[_0x4e9082(0x1e9)](encodeURIComponent,_0x118a55)+_0x4e9082(0x1d7)+giftedapikey),_0x4b6ded=await _0x4aa923[_0x4e9082(0x210)]();if(_0x2d12d4[_0x4e9082(0x1b8)](_0x4b6ded[_0x4e9082(0x200)],-0xcb0+0x17a3+0x1*-0xa2b)&&_0x4b6ded[_0x4e9082(0x1e7)]){const _0x245824=_0x4b6ded[_0x4e9082(0x1be)][_0x4e9082(0x1fe)+'rl'],_0x421b91={'image':{'url':_0x4ba123[0x1*-0x1f6e+-0x8*-0x34d+-0x283*-0x2][_0x4e9082(0x1ae)]},'caption':_0x4e9082(0x1a2)+_0x4e9082(0x1af)+_0x4e9082(0x1d9)};await _0x299a0f[_0x4e9082(0x1c9)+'e'](_0x5b2895,_0x421b91,{'quoted':_0x4f9a9b}),await _0x299a0f[_0x4e9082(0x1c9)+'e'](_0x5b2895,{'audio':{'url':_0x245824},'mimetype':_0x2d12d4[_0x4e9082(0x1b4)]},{'quoted':_0x4f9a9b}),_0x2d12d4[_0x4e9082(0x1e6)](_0x21cd72,_0x2d12d4[_0x4e9082(0x1d8)]);}else _0x2d12d4[_0x4e9082(0x1e6)](_0x21cd72,_0x2d12d4[_0x4e9082(0x1b5)]);}else _0x2d12d4[_0x4e9082(0x1e9)](_0x21cd72,_0x2d12d4[_0x4e9082(0x208)]);}catch(_0x44a38d){console[_0x4e9082(0x1dc)](_0x2d12d4[_0x4e9082(0x1cc)],_0x44a38d),_0x2d12d4[_0x4e9082(0x1b9)](_0x21cd72,_0x2d12d4[_0x4e9082(0x1f8)]);}});
    /*}
  } else {
    const query = arg.join(' ');

    try {
      fetch('https://animechan.xyz/api/random/character?name=' + query)
        .then((response) => response.json())
        .then(async (quote) => {
          repondre(`â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   Bmw-md               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ðŸŽ¬ Anime: ${quote.anime}
ðŸ‘¤ Character: ${quote.character}
ðŸ’¬ Quote: ${quote.quote}

Powered by Bmw-MD`);
        });
    } catch (e) {
      repondre('Erreur lors de la gÃ©nÃ©ration de la citation : ' + e.message);
    }
  }
});
*/

const { zokou } = require("../framework/zokou");
const yts = require('yt-search');
const BaseUrl = 'https://temp.giftedapis.us.kg';
const giftedapikey = 'ibrahimtech_ai';
//const adam = 'prabath-api_5f6557';
/**
adams({
  nomCom: "video",
  categorie: "Search",
  reaction: "ðŸŽ¥"
}, async (dest, zk, commandeOptions) => {
  const { ms, repondre, arg } = commandeOptions;

  if (!arg[0]) {
    repondre("Please insert a song/video name.");
    return;
  }

  try {
    let topo = arg.join(" ");
    let videos = [];

    // Perform YouTube search
    const search = await yts(topo);
    videos = search.videos;

    if (videos && videos.length > 0) {
      const videoUrl = videos[0].url;
//repondre(videoUrl)

      
      // Call the API endpoint with the video URL to fetch the video download URL
      const apiResponse = await fetch(`https://prabath-md-api.up.railway.app/api/ytmp4?url=${encodeURIComponent(videoUrl)}&apikey=prabath-api_9d4fdb`);
      const apiResult = await apiResponse.json();

        const videoDlUrl = apiResult.data.video["360p"].downloadUrl;


        // Prepare the message with video details
        const infoMess = {
          image: { url: videos[0].thumbnail },
          caption: `*BMW-MD VIDEO PLAYER*\n\n*Â©Ibrahim Adams*`

        };

        // Send video details
        await zk.sendMessage(dest, infoMess, { quoted: ms });

        // Send the video as a URL (direct download link)
        await zk.sendMessage(dest, {
          video: { url: videoDlUrl },
          mimetype: 'video/mp4'
        }, { quoted: ms });

        repondre(`*Video Details*\n\n*Video Owner:* ${videos[0].author.name}\n\n*Time:* ${videos[0].timestamp}\n\n*Â®Adams 2024*`);
      
    } else {
      repondre('No videos found.');
    }
  } catch (error) {
    console.error('Error from API:', error);
    repondre('An error occurred while searching or downloading the video.' + error);
  }
});


adams({
  nomCom: "video2",
  categorie: "Search",
  reaction: "ðŸŽ¬"
}, async (dest, zk, commandeOptions) => {
  const { ms, repondre, arg } = commandeOptions;

  if (!arg[0]) {
    repondre("Please insert a song/video name.");
    return;
  }

  try {
    let topo = arg.join(" ");
    let videos = [];

    // Perform YouTube search
    const search = await yts(topo);
    videos = search.videos;

    if (videos && videos.length > 0) {
      const videoUrl = videos[0].url;

      // Call the API endpoint with the video URL to fetch the video download URL
      const apiResponse = await fetch(`https://prabath-md-api.up.railway.app/api/ytmp4?url=${encodeURIComponent(videoUrl)}&apikey=prabath-api_9d4fdb`);
      const apiResult = await apiResponse.json();

        const videoDlUrl = apiResult.data.video["360p"].downloadUrl;

        // Prepare the message with video details
        const infoMess = {
          video: { url: videos[0].thumbnail },
          caption: `*BMW-MD VIDEO PLAYER*\n\n*Â©Ibrahim Adams*`

        };

        // Send song details
        await zk.sendMessage(dest, infoMess, { quoted: ms });

        // Send the audio as a URL instead of buffer
        await zk.sendMessage(dest, {
          video: { url: videoDlUrl },
          mimetype: 'video/mp4'
        }, { quoted: ms });

        repondre(`*Video Details*\n\n*Video Owner:* ${videos[0].author.name}\n\n*Time:* ${videos[0].timestamp}\n\n*Â®Adams 2024*`);
      
    } else {
      repondre('No videos found.');
    }
  } catch (error) {
    console.error('Error from API:', error);
    repondre('An error occurred while searching or downloading the video.');
  }
});
**/
zokou({
  nomCom: "video",
  categorie: "Search",
  reaction: "ðŸŽ¥"
}, async (dest, zk, commandeOptions) => {
  const { ms, repondre, arg } = commandeOptions;

  if (!arg[0]) {
    repondre("Please insert a song/video name.");
    return;
  }

  try {
    let topo = arg.join(" ");
    let videos = [];

    // Perform YouTube search
    const search = await yts(topo);
    videos = search.videos;

    if (videos && videos.length > 0) {
      const videoUrl = videos[0].url;

      // Call the API endpoint with the video URL to fetch the video download URL
      const apiResponse = await fetch(`${BaseUrl}/api/download/ytmp4?url=${encodeURIComponent(videoUrl)}&apikey=${giftedapikey}`);
      const apiResult = await apiResponse.json();


      if (apiResult.status === 200 && apiResult.success) {
        const videoDlUrl = apiResult.result.download_url;

        // Prepare the message with video details
        const infoMess = {
          image: { url: videos[0].thumbnail },
         caption: `YOUTUBE SEARCH\n\n *ANYWAY-MD*`
        };

        // Send video details
        await zk.sendMessage(dest, infoMess, { quoted: ms });

        // Send the video as a URL (direct download link)
        await zk.sendMessage(dest, {
          video: { url: videoDlUrl },
          mimetype: 'video/mp4',
          
        }, { quoted: ms });

        repondre('Downloded Successfully âœ…');
     } else {
        repondre('Searching...â³');
      }
    } else {
      repondre('No videos found.');
    }
  } catch (error) {
    console.error('Error from API:', error);
    repondre('Searching...â³');
  }
});

zokou({
  nomCom: "play",
  categorie: "Download",
  reaction: "ðŸŽ§"
}, async (dest, zk, commandeOptions) => {
  const { ms, repondre, arg } = commandeOptions;

  if (!arg[0]) {
    repondre("Please insert a song name.");
    return;
  }

  try {
    let topo = arg.join(" ");
    let videos = [];

    // Perform YouTube search
    const search = await yts(topo);
    videos = search.videos;

    if (videos && videos.length > 0) {
      const videoUrl = videos[0].url;

      // Call the API endpoint with the video URL to fetch audio download URL
      const apiResponse = await fetch(`${BaseUrl}/api/download/ytmp3?url=${encodeURIComponent(videoUrl)}&apikey=${giftedapikey}`);
      const apiResult = await apiResponse.json();

      if (apiResult.status === 200 && apiResult.success) {
        const audioDlUrl = apiResult.result.download_url;
        
        // Prepare the message with song details
        const infoMess = {
          image: { url: videos[0].thumbnail },
          caption: `YOUTUBE SEARCH\n\n *ANYWAY-MD*`
        };

        // Send song details
        await zk.sendMessage(dest, infoMess, { quoted: ms });

        // Send the audio as a Buffer instead of URL
        await zk.sendMessage(dest, {
          audio: { url: audioDlUrl },
          mimetype: 'audio/mp4'
        }, { quoted: ms });

        repondre('*Downloded Successfully âœ…*');
   
      } else {
        repondre('Failed to download audio. Please try again later.');
      }
    } else {
      repondre('No audio found.');
    }
  } catch (error) {
    console.error('Error from API:', error);
    repondre('An error occurred while searching or downloading the audio.');
  }
});

zokou({
  nomCom: "song",
  categorie: "Download",
  reaction: "ðŸŽ¸"
}, async (dest, zk, commandeOptions) => {
  const { ms, repondre, arg } = commandeOptions;

  if (!arg[0]) {
    repondre("Please insert a song name.");
    return;
  }

  try {
    let topo = arg.join(" ");
    let videos = [];

    // Perform YouTube search
    const search = await yts(topo);
    videos = search.videos;

    if (videos && videos.length > 0) {
      const videoUrl = videos[0].url;

      // Call the API endpoint with the video URL to fetch audio download URL
      const apiResponse = await fetch(`${BaseUrl}/api/download/ytmp3?url=${encodeURIComponent(videoUrl)}&apikey=${giftedapikey}`);
      const apiResult = await apiResponse.json();

      if (apiResult.status === 200 && apiResult.success) {
        const audioDlUrl = apiResult.result.download_url;
        
        // Prepare the message with song details
        const infoMess = {
          image: { url: videos[0].thumbnail },
          caption: `YOUTUBE SEARCH\n\n *ANYWAY-MD*`
       
        };

        // Send song details
        await zk.sendMessage(dest, infoMess, { quoted: ms });

        // Send the audio as a Buffer instead of URL
        await zk.sendMessage(dest, {
          audio: { url: audioDlUrl },
          mimetype: 'audio/mp4'
        }, { quoted: ms });

        repondre('*Downloded Successfully âœ…*');
   
      } else {
        repondre('Failed to download audio. Please try again later.');
      }
    } else {
      repondre('No audio found.');
    }
  } catch (error) {
    console.error('Error from API:', error);
    repondre('An error occurred while searching or downloading the audio.');
  }
});
